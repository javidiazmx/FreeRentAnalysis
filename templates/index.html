<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Free Rent Analysis</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h2 { margin-bottom: 10px; }
    input { padding: 5px; width: 400px; }
    button { padding: 5px 10px; }
    .property-detail { margin-top: 20px; }
    .property-detail dt { font-weight: bold; margin-top: 10px; }
  </style>
</head>
<body>
  <h2>Enter Address</h2>
  <input type="text" id="addressInput" placeholder="Enter an address">
  <button onclick="lookupAddress()">Lookup</button>

  <div class="property-detail" id="resultContainer" style="display:none">
    <h2>Property Details</h2>
    <dl>
      <dt>Architecture:</dt><dd id="architecture"></dd>
      <dt>Basement Size:</dt><dd id="basement_size"></dd>
      <dt>Basement Type:</dt><dd id="basement_type"></dd>
      <dt>Baths:</dt><dd id="baths"></dd>
      <dt>Beds:</dt><dd id="beds"></dd>
      <dt>Cooling:</dt><dd id="cooling"></dd>
      <dt>Garage Type:</dt><dd id="garage_type"></dd>
      <dt>Heating:</dt><dd id="heating"></dd>
      <dt>Parking Spaces:</dt><dd id="parking_spaces"></dd>
      <dt>Property Class:</dt><dd id="property_class"></dd>
      <dt>Sqft:</dt><dd id="sqft"></dd>
      <dt>Year Built:</dt><dd id="year_built"></dd>
      <dt>Construction Type:</dt><dd id="construction_type"></dd>
      <dt>Wall Type:</dt><dd id="wall_type"></dd>
      <dt>Levels:</dt><dd id="levels"></dd>
      <dt>Story Description:</dt><dd id="story_description"></dd>
      <dt>View:</dt><dd id="view"></dd>
    </dl>
  </div>

  <script>
    async function lookupAddress() {
      const address = document.getElementById('addressInput').value;
      const response = await fetch('/lookup', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ address })
      });

      const data = await response.json();
      console.log(data);

      for (const [key, value] of Object.entries(data)) {
        const el = document.getElementById(key);
        if (el) el.textContent = value;
      }

      document.getElementById('resultContainer').style.display = 'block';
    }
  </script>
</body>
</html>
