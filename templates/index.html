<!DOCTYPE html>
<html>
<head>
  <title>Free Rent Analysis</title>
</head>
<body>
  <h2>Free Rent Analysis</h2>
  <input id="address" placeholder="Enter address..." />
  <button onclick="lookup()">Analyze</button>

  <div id="results"></div>

  <script>
    async function lookup() {
      const address = document.getElementById('address').value;
      const res = await fetch('/lookup', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({address})
      });
      const data = await res.json();
      const results = document.getElementById('results');
      if (data.error) {
        results.innerHTML = `<p>${data.error}</p>`;
      } else {
        results.innerHTML = `
          <p><strong>Beds:</strong> ${data.beds ?? 'N/A'}</p>
          <p><strong>Baths:</strong> ${data.baths ?? 'N/A'}</p>
          <p><strong>Sq Ft:</strong> ${data.sqft ?? 'N/A'}</p>
          <p><strong>Year Built:</strong> ${data.year_built ?? 'N/A'}</p>
          <p><strong>Garage Type:</strong> <span id="garage_type">Loading...</span></p>
          <p><strong>Parking Spaces:</strong> <span id="parking_spaces">Loading...</span></p>
          <p><strong>Architecture Style:</strong> <span id="arch_style">Loading...</span></p>
          <p><strong>Basement Type:</strong> <span id="basement_type">Loading...</span></p>
          <p><strong>Basement Size:</strong> <span id="basement_size">Loading...</span></p>
          <p><strong>Cooling:</strong> <span id="cooling">Loading...</span></p>
          <p><strong>Heating:</strong> <span id="heating">Loading...</span></p>
          <p><strong>Property Class:</strong> <span id="property_class">Loading...</span></p>

        `;
      }
    }
  </script>
</body>
</html>
